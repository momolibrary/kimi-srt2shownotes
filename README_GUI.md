# SRT ShowNotes 助手 - GUI版本使用说明

## 功能简介

SRT ShowNotes 助手是一个图形化界面工具，用于将SRT字幕文件转换为带标题的节目笔记。支持AI智能生成标题和校对正文内容。

## 主要功能

1. **SRT文件解析**: 读取和解析SRT字幕文件
2. **智能文本合并**: 将字幕按指定长度合并为段落
3. **AI标题生成**: 使用Kimi AI为每个段落生成合适的标题
4. **智能正文校对**: 使用AI对正文进行标点符号和错别字校对
5. **可视化编辑**: 支持用户手动编辑标题和正文内容
6. **多格式导出**: 支持预览和导出为文本文件

## 使用步骤

### 1. 启动程序
```bash
python main_gui.py
```

### 2. 配置设置
- **选择SRT文件**: 点击"浏览"按钮选择要处理的SRT文件
- **设置输出目录**: 选择处理结果的保存位置
- **目标合并长度**: 设置段落合并的目标字符数（默认500字符）
- **功能开关**: 
  - ✅ 生成标题: 启用AI标题生成功能
  - ✅ 校对正文: 启用AI正文校对功能

### 3. API配置
确保已正确配置Kimi API设置：
- **API Key**: 您的Kimi API密钥
- **Base URL**: API服务地址（默认：https://api.moonshot.cn/v1）
- **模型**: 使用的AI模型（默认：moonshot-v1-8k）

### 4. 开始处理
1. 点击"开始处理"按钮
2. 程序将依次执行：
   - 读取SRT文件
   - 解析字幕格式
   - 合并文本段落
   - 生成标题（如启用）
   - 校对正文（如启用）

### 5. 查看和编辑结果
使用标签页查看处理结果：

#### 进度标签
- 显示处理步骤和当前状态
- 实时更新处理进度

#### 段落编辑标签
- 查看所有处理后的段落
- 手动编辑标题和正文内容
- 点击"更新预览"应用修改
- 点击"重置所有"恢复原始内容

#### 预览标签
- 查看最终格式化的输出内容
- 使用"复制到剪贴板"功能
- 使用"导出文件"保存结果

#### 日志标签
- 查看详细的处理日志
- 监控API调用状态
- 错误信息显示

### 6. 导出结果
- 程序自动保存处理结果到指定目录
- 文件名格式：`kimi_output_YYYYMMDD_HHMMSS.txt`
- 支持手动导出编辑后的内容

## 界面布局

```
┌─ 配置面板 ─┐ ┌─────── 主要工作区域 ─────────┐
│ 文件设置   │ │ ┌─ 进度 ─┐ ┌─ 段落编辑 ─┐ │
│ 处理设置   │ │ │        │ │            │ │
│ API配置    │ │ └────────┘ └────────────┘ │
│ 操作控制   │ │ ┌─ 预览 ─┐ ┌─── 日志 ──┐ │
│ 任务进度   │ │ │        │ │            │ │
└───────────┘ │ └────────┘ └────────────┘ │
              └─────────────────────────────┘
              ┌─────── 状态栏 ──────────────┐
              │ 当前状态    │      运行时间 │
              └─────────────────────────────┘
```

## 高级功能

### 取消任务
- 处理过程中可随时点击"取消任务"
- 系统将安全停止当前操作
- 已处理的数据会保留

### 配置保存
- API配置会自动保存到`kimi_config.ini`
- 下次启动时自动加载配置

### 错误处理
- API调用失败时自动重试
- 网络错误时使用备用处理逻辑
- 详细错误信息显示在日志中

## 注意事项

1. **API配置**: 确保API Key有效且有足够的调用额度
2. **网络连接**: 需要稳定的网络连接进行AI功能调用
3. **文件格式**: 确保SRT文件格式正确
4. **系统要求**: 需要Python 3.7+和tkinter支持
5. **依赖包**: 确保已安装openai、configparser等依赖

## 故障排除

### 常见问题

**Q: 程序启动失败**
A: 检查Python环境和依赖包是否正确安装

**Q: API调用失败** 
A: 验证API Key是否正确，检查网络连接

**Q: SRT文件无法解析**
A: 确认文件格式是否为标准SRT格式

**Q: 处理速度慢**
A: AI功能需要网络调用，请耐心等待

### 日志查看
所有操作都会记录在"日志"标签页中，遇到问题时请查看详细日志信息。

## 文件结构

```
kimi-srt2shownotes/
├── main.py          # 核心功能模块
├── main_gui.py      # GUI界面程序
├── kimi_config.ini  # API配置文件
└── README_GUI.md    # 本说明文件
```

## 技术支持

如遇到问题，请：
1. 查看日志标签页的错误信息
2. 检查API配置是否正确
3. 确认网络连接状态
4. 验证SRT文件格式

---

**作者**: AI Assistant  
**版本**: 1.0  
**更新日期**: 2025-08-30
